<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CutiePieâ€™s Room ğŸ’–</title>
<style>
/* ===== General Styles ===== */
body{
  margin:0;padding:0;font-family:'Arial',sans-serif;
  background:linear-gradient(135deg,#ffe6f2,#fff0f5);
  color:#333;overflow-x:hidden;
}
h1{font-size:2.5em;text-align:center;margin:20px 0;color:#ff69b4;}
section{margin:20px auto;padding:15px;max-width:650px;border-radius:15px;background:rgba(255,255,255,0.85);box-shadow:0 5px 15px rgba(0,0,0,0.2);}
section h2{cursor:pointer;margin-bottom:10px;}
.collapsible{min-height:50px;padding:10px;border-radius:10px;background:#fff4f4;overflow:auto;}
#floatContainer{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1;}
.float{position:absolute;font-size:25px;animation: floatAnim 12s ease-in-out infinite;}
@keyframes floatAnim{0%{transform:translateY(100vh);}50%{transform:translateY(50vh);}100%{transform:translateY(0vh);}}
.game-box{margin:10px 0;padding:15px;border-radius:10px;background:#fff0f5;text-align:center;}
button{padding:5px 10px;margin:3px;border-radius:5px;border:none;cursor:pointer;}
.locked{background:#ffd9ec;color:#999;text-align:center;padding:10px;border-radius:10px;cursor:not-allowed;}
/* ===== Haunted ===== */
#haunted{background:rgba(20,20,30,0.9);color:#eee;border:2px dashed #ff5555;box-shadow:0 0 20px #ff5555 inset;position:relative;overflow:hidden;}
#haunted p{font-style:italic;}
/* ===== Adult Room ===== */
#adultRoom{background:linear-gradient(120deg,#440022,#220011);color:#ffccd5;padding:20px;border-radius:20px;box-shadow:0 0 30px #ff77aa inset;}
</style>
</head>
<body>
<h1>CutiePieâ€™s Room ğŸ’–</h1>
<div id="floatContainer"></div>

<!-- ===== Sections ===== -->
<section>
<h2 onclick="toggleSection('notesSec')">ğŸ“’ Daily Notes</h2>
<div id="notesSec" class="collapsible" contenteditable="true"></div>
</section>

<section>
<h2 onclick="toggleSection('moodSec')">ğŸ˜Š Mood Tracker</h2>
<div id="moodSec" class="collapsible" contenteditable="true"></div>
</section>

<section>
<h2 onclick="toggleSection('lettersSec')">ğŸ’Œ Letters</h2>
<div id="lettersSec" class="collapsible" contenteditable="true"></div>
</section>

<section>
<h2 onclick="toggleSection('kaleshSec')">âš¡ Kalesh Meter</h2>
<div id="kaleshSec" class="collapsible" contenteditable="true"></div>
</section>

<section>
<h2 onclick="toggleSection('albumSec')">ğŸ“¸ Album</h2>
<div id="albumSec" class="collapsible" contenteditable="true"></div>
</section>

<section id="haunted">
<h2 onclick="toggleSection('hauntedSec')">ğŸ‘» Haunted Investigator</h2>
<div id="hauntedSec" class="collapsible" contenteditable="true">Spooky research notes...</div>
</section>

<section id="adultRoom">
<h2 onclick="toggleSection('adultSec')">ğŸ”¥ Adult Room (18+)</h2>
<div id="adultSec" class="collapsible" contenteditable="true">Private vibes...</div>
</section>

<section>
<h2 onclick="toggleSection('gamesSec')">ğŸ® Mini Games</h2>
<div id="gamesSec" class="collapsible">

<!-- Tic Tac Toe -->
<div class="game-box">
<h3>Tic Tac Toe</h3>
<div id="ticTacToeBoard"></div>
<button onclick="startTTT()">Start Game</button>
</div>

<!-- Dice Roll -->
<div class="game-box">
<h3>Dice Roll</h3>
<p id="diceResult">Roll the dice!</p>
<button onclick="rollDice()">Roll ğŸ²</button>
</div>

<!-- Memory Game -->
<div class="game-box">
<h3>Memory Game</h3>
<p id="memoryResult">Flip cards and match pairs!</p>
<button onclick="startMemory()">Start Memory</button>
</div>

<!-- Rock Paper Scissors -->
<div class="game-box">
<h3>Rock Paper Scissors</h3>
<p id="rpsResult">Choose: Rock, Paper, or Scissors</p>
<button onclick="playRPS('Rock')">Rock</button>
<button onclick="playRPS('Paper')">Paper</button>
<button onclick="playRPS('Scissors')">Scissors</button>
</div>

<!-- Placeholders for other games -->
<div class="game-box locked">Ludo Placeholder</div>
<div class="game-box locked">Carrom Placeholder</div>

</div>
</section>

<section>
<h2>ğŸ”’ Locked Surprise</h2>
<div id="lockedSec" class="collapsible locked">Will unlock later ğŸ˜</div>
</section>

<footer>ğŸ’– CutiePieâ€™s Room</footer>

<!-- ===== Firebase & Scripts ===== -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
import { getDatabase, ref, onValue, set } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-database.js";

// Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyBMfKs9XDoaEXOTZ80JabeFhwMQAFnsvq8",
  authDomain: "cutiepiesss.firebaseapp.com",
  projectId: "cutiepiesss",
  storageBucket: "cutiepiesss.firebasestorage.app",
  messagingSenderId: "109966976138",
  appId: "1:109966976138:web:770f6454a3ae0df6777973"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

// ===== Sections Realtime Sync =====
const sections = ['notesSec','moodSec','lettersSec','kaleshSec','albumSec','hauntedSec','adultSec'];
sections.forEach(id=>{
  const el=document.getElementById(id);
  const dbRef=ref(db,'cutieRoom/'+id);
  onValue(dbRef,snapshot=>{ if(snapshot.exists()){ el.innerHTML=snapshot.val(); } });
  el.addEventListener('input',()=>{ set(dbRef,el.innerHTML); });
});

// ===== Toggle Sections =====
function toggleSection(id){
  const sec=document.getElementById(id);
  sec.style.display=(sec.style.display==='none'||sec.style.display==='')?'block':'none';
}

// ===== Floating Animations =====
const floatContainer=document.getElementById('floatContainer');
const emojis=['ğŸ’–','ğŸ±','ğŸ¶','ğŸ’Œ','ğŸ‘»','ğŸˆ','ğŸ’«','ğŸ˜»','ğŸ¦´','ğŸ','ğŸ’œ','ğŸ’›'];
for(let i=0;i<80;i++){
  const span=document.createElement('span');
  span.className='float';
  span.style.left=Math.random()*90+'%';
  span.style.top=Math.random()*90+'%';
  span.style.fontSize=(20+Math.random()*30)+'px';
  span.innerText=emojis[Math.floor(Math.random()*emojis.length)];
  floatContainer.appendChild(span);
}

// ===== Mini Games =====

// Dice Roll
function rollDice(){
  const result=Math.floor(Math.random()*6)+1;
  document.getElementById('diceResult').innerText='You rolled: '+result;
}

// Tic Tac Toe Multi-device
const tttBoardRef = ref(db,'cutieRoom/tttBoard');
function startTTT(){
  const boardDiv=document.getElementById('ticTacToeBoard');
  boardDiv.innerHTML='';
  // Initialize board in Firebase if empty
  onValue(tttBoardRef,snap=>{
    let board = snap.val()||Array(9).fill('');
    boardDiv.innerHTML='';
    board.forEach((v,i)=>{
      const btn=document.createElement('button');
      btn.style.width='60px'; btn.style.height='60px'; btn.style.margin='2px';
      btn.innerText=v;
      btn.onclick=()=>{
        if(btn.innerText===''){
          btn.innerText='X';
          board[i]='X';
          set(tttBoardRef,board);
        }
      };
      boardDiv.appendChild(btn);
    });
  });
}

// Memory Game Placeholder
function startMemory(){ document.getElementById('memoryResult').innerText='Memory game started! Flip cards!'; }

// Rock Paper Scissors Multi-device
const rpsRef = ref(db,'cutieRoom/rps');
function playRPS(choice){
  const options=['Rock','Paper','Scissors'];
  const comp = options[Math.floor(Math.random()*3)];
  let result='';
  if(choice===comp) result="Draw! Both chose "+choice;
  else if((choice==='Rock'&&comp==='Scissors')||(choice==='Paper'&&comp==='Rock')||(choice==='Scissors'&&comp==='Paper'))
    result="You Win! Computer chose "+comp;
  else result="You Lose! Computer chose "+comp;
  set(rpsRef,result);
}
onValue(rpsRef,snap=>{
  if(snap.exists()){ document.getElementById('rpsResult').innerText=snap.val(); }
});

// Locked surprise timer
setTimeout(()=>{
  const locked=document.getElementById('lockedSec');
  locked.classList.remove('locked');
  locked.innerText='ğŸ Surprise unlocked!';
},1000*60*60); // 1 hour delay

</script>
</body>
  </html>
